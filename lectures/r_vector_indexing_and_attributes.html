<!DOCTYPE html>
<html>
    <head>
    <title>Vectorization and Indexing in R &middot; Reproducible Research.</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link href="http://eriqande.github.io/rep-res-web/www/bootstrap.min.css" rel="stylesheet">
    <link href="http://eriqande.github.io/rep-res-web/www/highlight.css" rel="stylesheet">

    <link href='http://fonts.googleapis.com/css?family=Inconsolata:400,700'
      rel='stylesheet' type='text/css'>
  </head>

  <body>
    <div class="navbar navbar-default navbar-static-top">
 <div class="navbar-header"><a class="navbar-brand" href="http://eriqande.github.io/rep-res-web">RepResCourse</a>
      <a class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </a>
    </div>
    <div class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li><a href="http://eriqande.github.io/rep-res-web/syllabus.html">Syllabus</a></li>
        <li><a href="http://eriqande.github.io/rep-res-web/resources.html">Resources</a></li>
        <li><a href="http://eriqande.github.io/rep-res-web/blogs.html">Instructor Blog</a></li>
        <li><a href="#">Results/Gallery</a></li>
      </ul>
      <div class="navbar-right">
    	<p class="navbar-text">I'm navbar-fixed-top</p>
  	  </div>
    </div>
</div>


    <div class="container">
            <!-- The title and stuff is here -->
      <div class="masthead">
        <p> </p>
        <p> </p>
        <h3 class="muted"><a href="http://eriqande.github.io/rep-res-web/">Reproducible Research Course</a> <small>by Eric C. Anderson for (NOAA/SWFSC)</small></h3>
        <hr>
      </div>

      <div class="row">
        <div class="col-sm-3" id="nav">
          <div class="well">
  How's this site built? See all sources at the course <a href="http://github.com/eriqande/rep-res-course">repository</a> on GitHub.
  <p><hr></p>
  <p><a class="btn btn-primary" href="https://raw.githubusercontent.com/eriqande/rep-res-course/master/lectures/r_vector_indexing_and_attributes.rmd">Raw on GitHub</a></p>
</div>

<h4>Page Contents</h4>
<ul class="list-unstyled" id="toc"></ul>

<hr>
<p><a href="http://eriqande.github.io/rep-res-web/contribute.html">How to contribute</a></p>
<p><a class="btn btn-primary" href="https://github.com/eriqande/rep-res-course/edit/master/lectures/r_vector_indexing_and_attributes.rmd">Edit this page</a></p>


        </div>

        <div id="content" class="col-sm-8 pull-right">
          <h1 id="vectorization-and-indexing">Vectorization and Indexing in R</h1>
<h2 id="bin-comp-ops">Binary Comparison Operators</h2>
<p>These are “binary” because they involve <em>two</em> arguments.<br />Operate <em>elementwise</em> on vectors and return //logical vectors//</p>
<pre class="sourceCode r"><code class="sourceCode r">x &lt;<span class="st"> </span>y    <span class="co"># less than</span>
x &gt;<span class="st"> </span>y    <span class="co"># greater than</span>
x &lt;=<span class="st"> </span>y   <span class="co"># less than or equal to </span>
x &gt;=<span class="st"> </span>y   <span class="co"># greater than or equal to</span>
x ==<span class="st"> </span>y   <span class="co"># equal to </span>
x !=<span class="st"> </span>y   <span class="co"># not equal to</span></code></pre>
<p><code>==</code> is the “<em>comparison equals</em>” which tests for equality. (Be careful not to use <code>=</code> which, in today’s versions of R, is actually interpreted as leftwards assignment.)</p>
<h3 id="bin-comp-ex">Binary Comparison Examples</h3>
<pre class="sourceCode r"><code class="sourceCode r">a &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;izzy&quot;</span>, <span class="st">&quot;jazz&quot;</span>, <span class="st">&quot;tyler&quot;</span>)
b &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;devon&quot;</span>, <span class="st">&quot;vanessa&quot;</span>, <span class="st">&quot;hilary&quot;</span>)
x &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">5</span>)
y &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">4</span>,<span class="dv">4</span>,<span class="dv">3</span>)
a&lt;b   <span class="co"># alphabetical sort order</span>
<span class="co">#&gt; [1] FALSE  TRUE FALSE</span>
x==y
<span class="co">#&gt; [1] FALSE FALSE FALSE</span>
x!=y
<span class="co">#&gt; [1] TRUE TRUE TRUE</span>
(a&lt;b) &lt;=<span class="st"> </span>(x==y)  <span class="co"># trickier...notice the parentheses to force precedence</span>
<span class="co">#&gt; [1]  TRUE FALSE  TRUE</span></code></pre>
<h3 id="bin-comp-scalar">Binary Comparison With A Scalar</h3>
<p>Check this out:</p>
<pre class="sourceCode r"><code class="sourceCode r">x &lt;-<span class="st"> </span><span class="dv">1</span>:<span class="dv">10</span>  <span class="co"># the colon operator returns a sequence</span>
x
<span class="co">#&gt;  [1]  1  2  3  4  5  6  7  8  9 10</span>
x &lt;=<span class="st"> </span><span class="dv">3</span>
<span class="co">#&gt;  [1]  TRUE  TRUE  TRUE FALSE FALSE FALSE FALSE FALSE FALSE FALSE</span>
<span class="co"># compare this to:</span>
x &lt;=<span class="st"> </span><span class="kw">c</span>(<span class="dv">3</span>,<span class="dv">3</span>,<span class="dv">3</span>,<span class="dv">3</span>,<span class="dv">3</span>,<span class="dv">3</span>,<span class="dv">3</span>,<span class="dv">3</span>,<span class="dv">3</span>,<span class="dv">3</span>)
<span class="co">#&gt;  [1]  TRUE  TRUE  TRUE FALSE FALSE FALSE FALSE FALSE FALSE FALSE</span></code></pre>
<p>What is going on here?</p>
<h3 id="bin-comp-diff-lengths">Comparison With Different-Lengths of Vectors</h3>
<p>Try this one:</p>
<pre class="sourceCode r"><code class="sourceCode r">x &lt;-<span class="st"> </span><span class="dv">1</span>:<span class="dv">10</span>
x
<span class="co">#&gt;  [1]  1  2  3  4  5  6  7  8  9 10</span>
x &gt;<span class="st"> </span><span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">7</span>)
<span class="co">#&gt;  [1] FALSE FALSE  TRUE FALSE  TRUE FALSE  TRUE  TRUE  TRUE  TRUE</span>
<span class="co"># compare this to:</span>
x &gt;<span class="st"> </span><span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">7</span>,  <span class="dv">1</span>,<span class="dv">7</span>,  <span class="dv">1</span>,<span class="dv">7</span>,  <span class="dv">1</span>,<span class="dv">7</span>,  <span class="dv">1</span>,<span class="dv">7</span>)
<span class="co">#&gt;  [1] FALSE FALSE  TRUE FALSE  TRUE FALSE  TRUE  TRUE  TRUE  TRUE</span></code></pre>
<p>To understand what is going on here we need to talk about <em>recycling</em></p>
<h2 id="recycling">Recycling of Vectors in R</h2>
<p>A <em>very <strong>super-wickedly</strong>, important</em>, concept: R likes to operate on vectors of the same length, so if it encounters two (or more) vectors of different lengths in a binary in an operation, it merely replicates (<em>recycles</em>) the smaller vectors until they are the same length as the longest vector, then it does the operation.</p>
<p>If the recycled smaller vector has to be “chopped off” to make it the length of the longer vector, you will get a warning, but it will still return a result:</p>
<pre class="sourceCode r"><code class="sourceCode r">x &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>)
y &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">10</span>)
x *<span class="st"> </span>y
<span class="co">#&gt; Warning: longer object length is not a multiple of shorter object length</span>
<span class="co">#&gt; [1]  1 20  3</span></code></pre>
<h3 id="recyling-contexts">We will see Recycling In Many contexts</h3>
<p>Recycling occurs wherever two or more vectors get operated on elementwise, not just with comparison operators. It also happens (as we saw above) with mathematical operators. And it also happens with indexing operators when indexing by logical vectors (you’ll see that later)!!</p>
<p>You gotta know it!</p>
<h2 id="combo-comps">Combinations of Comparisons</h2>
<p><strong>A Weather Example</strong></p>
<ul>
<li>Suppose two variables, <code>temp</code> (in degrees Celsius) and <code>precip</code> (in mm) each a vector of length 365.</li>
<li><p>Tell me how you test for: *All days with temp less than 10 and precip greater than 5</p>
<p><em>Days with temp greater than 15 or with no precip (or both) </em>Days with temp greater than 15 or with no precip (but not both)</p></li>
</ul>
<h3>Logical Operators-I</h3>
<p>These operate on <code>logical</code>s and return <code>logical</code>s. <code>numeric</code> and <code>complex</code> vectors are coerced to <code>logical</code> before applying these.</p>
<ul>
<li>Unary operators (those that operate elementwise on a single vector)
<ul>
<li><code>!</code> Turns TRUE to FALSE and FALSE to TRUE</li>
</ul></li>
</ul>
<pre class="sourceCode r"><code class="sourceCode r">
x &lt;-<span class="st"> </span><span class="kw">c</span>(T, T, F, F)
x
<span class="co">#&gt; [1]  TRUE  TRUE FALSE FALSE</span>
!x
<span class="co">#&gt; [1] FALSE FALSE  TRUE  TRUE</span></code></pre>
<h3>Logical Operators-II</h3>
<ul>
<li>Binary operators (operate elementwise on two vectors)
<ul>
<li><p><code>&amp;</code> — Logical AND</p></li>
<li><code>|</code> — Logical OR</li>
<li><p><code>xor(x,y)</code> — Logical EXCLUSIVE OR</p></li>
</ul></li>
</ul>
<pre class="sourceCode r"><code class="sourceCode r">x &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="ot">NA</span>, T, F, T, F)
y &lt;-<span class="st"> </span><span class="kw">c</span>(T, T, F, F, <span class="ot">NA</span>)
x; y
<span class="co">#&gt; [1]  TRUE  TRUE FALSE FALSE    NA</span>
x &amp;<span class="st"> </span>y; x |<span class="st"> </span>y; <span class="kw">xor</span>(x,y)
<span class="co">#&gt; [1]    NA FALSE FALSE  TRUE    NA</span></code></pre>
<h2 id="math-ops">Mathematical Operators</h2>
<p>Operate on <code>numeric</code> or <code>complex</code> mode data and return the same</p>
<pre class="sourceCode r"><code class="sourceCode r">x +<span class="st"> </span>y   <span class="co"># addition</span>
x -<span class="st"> </span>y   <span class="co"># subtraction</span>
x *<span class="st"> </span>y   <span class="co"># multiplication</span>
x /<span class="st"> </span>y   <span class="co"># division</span>
x ^<span class="st"> </span>y   <span class="co"># exponentiation</span>
x %%<span class="st"> </span>y  <span class="co"># modulo division (remainder) 10 %% 3 = 1 </span>
x %/%<span class="st"> </span>y <span class="co"># integer division: 10 %/% 3 = 3</span></code></pre>
<h3>Grouping Parts of Expressions</h3>
<p>Parentheses are good for ensuring that parts of complex expressions are evaluated in the right order.</p>
<p>But, in case you want to appear like a real code jock and don’t want to use parentheses, learn the rules of precence.</p>
<h3>Precedence of Operators we Have seen</h3>
<p>From highest to lowest:</p>
<pre class="sourceCode r"><code class="sourceCode r">^<span class="st">                    </span><span class="co"># exponentiation (right to left)</span>
-<span class="st"> </span>+<span class="st">                </span><span class="co"># unary minus and plus</span>
<span class="er">:</span><span class="st">                    </span><span class="co"># sequence operator</span>
<span class="er">*</span><span class="st"> </span><span class="er">/</span><span class="st">                </span><span class="co"># multiply, divide</span>
+<span class="st"> </span>-<span class="st">                </span><span class="co"># (binary) add, subtract</span>
<span class="er">&lt;</span><span class="st"> </span><span class="er">&gt;</span><span class="st"> </span><span class="er">&lt;=</span><span class="st"> </span><span class="er">&gt;=</span><span class="st"> </span><span class="er">==</span><span class="st"> </span><span class="er">!=</span><span class="st">    </span><span class="co"># ordering and comparison</span>
!<span class="st">                    </span><span class="co"># negation</span>
<span class="er">&amp;</span><span class="st">                  </span><span class="co"># and</span>
<span class="er">|</span><span class="st">                  </span><span class="co"># or</span>
-&gt;<span class="st">                 </span><span class="co"># rightwards assignment</span>
<span class="er">=</span><span class="st">                    </span><span class="co"># assignment (right to left)</span>
<span class="er">&lt;</span>-<span class="st">                 </span><span class="co"># assignment (right to left)</span></code></pre>
<p>Higher precedence operators “stick” more tightly to their arguments. So, for example:</p>
<pre class="sourceCode r"><code class="sourceCode r">x&lt;-<span class="dv">3</span>
y&lt;-<span class="dv">2</span>

-x *<span class="st"> </span>y  <span class="co"># this is like (-x) * y</span>
<span class="co">#&gt; [1] -6</span>
-x ^<span class="st"> </span>y  <span class="co"># this is like -(x ^ y)</span>
<span class="co">#&gt; [1] -9</span></code></pre>
<h3>One very important precedence rule</h3>
<p>Notice that the <code>:</code> has higher precedence than the <code>+</code>, <code>-</code>, <code>*</code>, or <code>/</code>.</p>
<p>Thus</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="dv">1</span>:<span class="dv">5</span>*<span class="dv">3</span>   <span class="co"># this is (1:5)*3</span>
<span class="co">#&gt; [1]  3  6  9 12 15</span>

<span class="dv">1</span>:(<span class="dv">5</span>*<span class="dv">3</span>) <span class="co"># this is 1:15</span>
<span class="co">#&gt;  [1]  1  2  3  4  5  6  7  8  9 10 11 12 13 14 15</span></code></pre>
<p>Or, if you want the sequence of numbers from 0 to n-1, be careful:</p>
<pre class="sourceCode r"><code class="sourceCode r">n &lt;-<span class="st"> </span><span class="dv">5</span>
<span class="dv">0</span>:n<span class="dv">-1</span>    <span class="co"># wrong</span>
<span class="co">#&gt; [1] -1  0  1  2  3  4</span>
<span class="dv">0</span>:(n<span class="dv">-1</span>)  <span class="co"># right</span>
<span class="co">#&gt; [1] 0 1 2 3 4</span></code></pre>
<h3>Built In Help On Functions and Operators</h3>
<p><code>?function_name</code> returns help (if available) for the function with name <code>function_name</code>:</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="co"># examples:</span>
?c
?sum
?mean</code></pre>
<p>Builtin help on topics we have discussed today can be found at <code>?Syntax</code>, <code>?Logic</code>, <code>?Comparison</code>, <code>?Arithmetic</code>.</p>
<p>Also, all material here is covered in parts of sections 1 through 3 in [[<a href="http:_cran.r-project.org/doc/manuals/R-intro.pdf|R-intro.pdf">http:_cran.r-project.org/doc/manuals/R-intro.pdf|R-intro.pdf</a>]] available on CRAN.</p>
<h2 id="playing-around-temp-data">A Little Play With Some Temp Data</h2>
<p>You can download max and min temperature data for the last 28 days at Watsonville Airport: Once you have downloaded this, you can load it into your R session. You will have to tailor this according to where the file gets downloaded on your computer</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">load</span>(<span class="st">&quot;~/Downloads/sept_watsonville_temps.rda&quot;</span>)  <span class="co"># load that data in.</span>
<span class="kw">ls</span>() <span class="co"># look at what objects exist in your workspace, now</span>
 
<span class="co"># now, fill out the code to do the following:</span>
<span class="co"># 1. Just look at the two variables wats_max and wats_min</span>
<span class="co"># 2. Make a new vector called range that is the temp difference between max and min</span>
<span class="co"># 3. Create a logical vector called abv70 which has TRUE&#39;s for every day the max is above 70</span>
<span class="co"># 4. Create a logical vector called blw50 which denotes which days had a min below 50</span>
<span class="co"># 5. Create a logical vector max10 which denotes on which days the max was a multiple of 10 (recall the modulo division operator, %%)</span>
<span class="co"># 6. Create a logical vector min10 which denotes the days on which the min was a multiple of 10</span>
<span class="co"># 7. Just using the original wats_max and wats_min vectors in the expression, count the number of days when at least one of the max or min temperatures is a multiple of 10.</span></code></pre>
<h2 id="indexing">Woo-hoo! New Topic: “Indexing”</h2>
<p>There are times when we want to access one or just a few elements from a vector. We’ve already seen an example of extracting a single element, for example:</p>
<pre class="sourceCode r"><code class="sourceCode r">x &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;devon&quot;</span>, <span class="st">&quot;alicia&quot;</span>, <span class="st">&quot;cassie&quot;</span>)
x[<span class="dv">2</span>]  <span class="co"># this extracts the second element of x</span>
<span class="co">#&gt; [1] &quot;alicia&quot;</span></code></pre>
<p>Vectors in R are <em>base-1</em> subscripted. i.e. elements are subscripted “1, 2, 3, …” instead of “0, 1, 2, …”</p>
<h3>Overview: 4 Ways To Extract from a Vector</h3>
<p>Single square brackets are the <em>indexing</em> operators. You can use them in four different ways, by putting four different things inside them:</p>
<ol style="list-style-type: decimal">
<li>With a vector of <em>positive</em> indices: <code>x[c(1,6,4)]</code></li>
<li>With a vector of <em>negative</em> indices: <code>x[-c(1,6,4)</code></li>
<li>With a <em>logical vector</em> of the appropriate length: <code>x[c(T,F,F,T,T)]</code></li>
<li>With a <em>character vector</em> of <em>names</em>: <code>x[c(&quot;Sept10&quot;,&quot;Sept24&quot;)]</code> Number four should not make sense to you yet!</li>
</ol>
<h3>Indexing With Positive Integers</h3>
<ul>
<li>A vector of positive integers extracts the corresponding elements, <em>in the same order</em> and <em>as many times</em> as the indices are listed in the vector</li>
</ul>
<pre class="sourceCode r"><code class="sourceCode r">x &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">5</span>,<span class="dv">4</span>,<span class="dv">7</span>,<span class="dv">8</span>)

x[<span class="kw">c</span>(<span class="dv">4</span>,<span class="dv">4</span>,<span class="dv">4</span>,<span class="dv">2</span>,<span class="dv">2</span>,<span class="dv">1</span>,<span class="dv">3</span>,<span class="dv">2</span>)]  <span class="co"># returns a vector of length 8!</span>
<span class="co">#&gt; [1] 8 8 8 4 4 5 7 4</span></code></pre>
<ul>
<li>If an index exceeds the <em>length</em> of the vector, it returns an <code>NA</code> for that element</li>
</ul>
<pre class="sourceCode r"><code class="sourceCode r">x &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">5</span>,<span class="dv">4</span>,<span class="dv">7</span>,<span class="dv">8</span>)

x[<span class="kw">c</span>(<span class="dv">4</span>,<span class="dv">1</span>,<span class="dv">3</span>,<span class="dv">5</span>)]  <span class="co"># the 4th element of the returned vector is NA</span>
<span class="co">#&gt; [1]  8  5  7 NA</span></code></pre>
<p>and gives <em>no warning</em> of this.</p>
<h3>Indexing With Negative Integers</h3>
<ul>
<li>A vector of positive integers says, “extract everything <em>except</em> these indices.”
<ul>
<li><p>The order of the remaining elements is preserved.</p></li>
<li>Multiple instances of the same negative integer have the same effect as a single one</li>
<li><p>Negative integers exceeding the length of the vector are just ignored</p></li>
</ul></li>
</ul>
<pre class="sourceCode r"><code class="sourceCode r">x &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">5</span>,<span class="dv">4</span>,<span class="dv">7</span>,<span class="dv">8</span>)
x[-<span class="dv">2</span>]; x[-<span class="kw">c</span>(<span class="dv">2</span>,<span class="dv">4</span>)]
<span class="co">#&gt; [1] 5 7</span>
x[-<span class="kw">c</span>(<span class="dv">2</span>,<span class="dv">2</span>,<span class="dv">2</span>,<span class="dv">2</span>,<span class="dv">4</span>,<span class="dv">4</span>,<span class="dv">4</span>,<span class="dv">4</span>)]; x[-<span class="kw">c</span>(<span class="dv">2</span>,<span class="dv">4</span>,<span class="dv">5</span>,<span class="dv">10</span>,<span class="dv">18</span>)]
<span class="co">#&gt; [1] 5 7</span></code></pre>
<p>You <em>cannot</em> mix positive and negative indices!</p>
<h3>Indexing with Logical Vectors</h3>
<ul>
<li>You can supply a logical vector that is “parallel” to the vector you want to extract from. Any element where a <code>TRUE</code> occurs in the index vector gets returned. Order of elements is preserved and elements can’t get replicated.</li>
</ul>
<pre class="sourceCode r"><code class="sourceCode r">x &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">5</span>,<span class="dv">4</span>,<span class="dv">7</span>,<span class="dv">8</span>)

x[<span class="kw">c</span>(<span class="ot">FALSE</span>, <span class="ot">TRUE</span>, <span class="ot">TRUE</span>, <span class="ot">FALSE</span>)]
<span class="co">#&gt; [1] 4 7</span></code></pre>
<ul>
<li>If the index vector is shorter than the vector being indexed, the index vector is <em>recycled</em></li>
</ul>
<pre class="sourceCode r"><code class="sourceCode r">x &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">5</span>,<span class="dv">4</span>,<span class="dv">7</span>,<span class="dv">8</span>)

x[<span class="kw">c</span>(<span class="ot">FALSE</span>, <span class="ot">TRUE</span>)]
<span class="co">#&gt; [1] 4 8</span></code></pre>
<h3>Empty Subscript Indexing</h3>
<ul>
<li>Here is a quirky feature that you should get to know well, as it will help to understand matrix and data.frame subscripting.</li>
<li>If you apply an empty indexing operator <code>[]</code> to a vector, then it returns everything in the vector. Observe:</li>
</ul>
<pre class="sourceCode r"><code class="sourceCode r">x &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">5</span>,<span class="dv">4</span>,<span class="dv">7</span>,<span class="dv">8</span>)

x[]
<span class="co">#&gt; [1] 5 4 7 8</span>
x
<span class="co">#&gt; [1] 5 4 7 8</span></code></pre>
<ul>
<li>“When you give R nothing it gives you everything in return!”</li>
</ul>
<h2 id="replacement-form-indexing">The Replacement form of Indexing</h2>
<ul>
<li>Also called the <em>assignment</em> form. Allows you to change specified elements of a vector while leaving the others untouched (<em>except for mode changes due to coercion!</em>)</li>
</ul>
<pre class="sourceCode r"><code class="sourceCode r">x &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">5</span>,<span class="dv">4</span>,<span class="dv">7</span>,<span class="dv">8</span>)

x[<span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">3</span>)] &lt;-<span class="st"> </span><span class="dv">0</span>  
x[<span class="kw">c</span>(T,F,T,F)] &lt;-<span class="st"> </span><span class="dv">1</span>
x[-<span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">3</span>)] &lt;-<span class="st"> </span><span class="ot">NA</span>
x[<span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">3</span>)] &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;a&quot;</span>,<span class="st">&quot;c&quot;</span>) <span class="co"># coercion of remaining elements</span>
x[<span class="kw">c</span>(<span class="dv">3</span>,<span class="dv">1</span>,<span class="dv">2</span>)] &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;boing1&quot;</span>, <span class="st">&quot;boing2&quot;</span>, <span class="st">&quot;boing3&quot;</span>) <span class="co"># note ordering</span>
x[<span class="kw">c</span>(<span class="dv">3</span>,<span class="dv">1</span>,<span class="dv">3</span>,<span class="dv">2</span>,<span class="dv">2</span>,<span class="dv">2</span>)] &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;boing1&quot;</span>, <span class="st">&quot;boing2&quot;</span>, <span class="st">&quot;boing3&quot;</span>) <span class="co"># repeated occurrences ignored </span></code></pre>
<p>The vector that is being assigned gets <em>recycled</em> as need be to match the length of the vector being indexed and assigned to.</p>
<h3>Assignment Beyond the length of the Vector</h3>
<ul>
<li>This is allowable when using the replacement form. Intermediate elements are set to NA</li>
</ul>
<pre class="sourceCode r"><code class="sourceCode r">x &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">5</span>,<span class="dv">4</span>,<span class="dv">7</span>,<span class="dv">8</span>)

<span class="kw">length</span>(x)
<span class="co">#&gt; [1] 4</span>
x[<span class="dv">10</span>] &lt;-<span class="st"> </span><span class="dv">12</span>
x; <span class="kw">length</span>(x)
<span class="co">#&gt; [1] 10</span></code></pre>
<ul>
<li>Those NA’s don’t get overwritten by recycling. Recycling only occurs to match the length of the vector returned by the indexing operation:</li>
</ul>
<pre class="sourceCode r"><code class="sourceCode r">x &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">5</span>,<span class="dv">4</span>,<span class="dv">7</span>,<span class="dv">8</span>)

x[<span class="dv">11</span>:<span class="dv">19</span>] &lt;-<span class="st"> </span><span class="kw">c</span>(-<span class="dv">1</span>,<span class="dv">0</span>,<span class="dv">1</span>)</code></pre>
<h2 id="object-attributes">Object Attributes</h2>
<ul>
<li>Before we can talk about indexing with <em>names</em> we have to talk about the fact that any object in are can possess <em>attributes</em>.</li>
<li>Every R object has two <em>intrinsic</em> attributes: <code>mode</code> and <code>length</code></li>
<li>For atomic vectors, possible modes are: (fill in the blanks)</li>
<li>The functions <code>mode(x)</code> and <code>length(x)</code> return these attributes for <code>x</code></li>
<li>You can also set them like this (for example):</li>
</ul>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">mode</span>(x) &lt;-<span class="st"> &quot;character&quot;</span>; <span class="kw">length</span>(x) &lt;-<span class="st"> </span><span class="dv">25</span></code></pre>
<h3>Other non-intrinsic Attributes</h3>
<ul>
<li>Any object in R can have a number of different <em>attributes</em> these are <em>not</em> the data contained in the object, but they may affect how the object is treated.<br /></li>
<li>Attributes are <strong>central</strong> to the operation of R.</li>
<li>Relevant functions:</li>
</ul>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">attributes</span>(x)  <span class="co"># list all non-intrinsic attributes of x</span>

<span class="kw">attributes</span>(x) &lt;-<span class="st"> </span>value <span class="co"># set all attributes of x  (seldom used)</span>
<span class="kw">attr</span>(x, <span class="st">&quot;boing&quot;</span>) <span class="co"># return value of x&#39;s &quot;boing&quot; attribute</span>
<span class="kw">attr</span>(x, <span class="st">&quot;boing&quot;</span>) &lt;-<span class="st"> </span>value <span class="co"># set x&#39;s &quot;boing&quot; attribute to value</span></code></pre>
<p>Common attributes accessed via various convenience functions</p>
<h2 id="names-attribute">The names Attribute of a Vector</h2>
<ul>
<li>R gives you the option of having a name for every element of a vector:</li>
</ul>
<pre class="sourceCode r"><code class="sourceCode r">x &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">5</span>,<span class="dv">4</span>,<span class="dv">7</span>,<span class="dv">8</span>)

<span class="kw">names</span>(x) &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;first&quot;</span>, <span class="st">&quot;second&quot;</span>, <span class="st">&quot;third&quot;</span>, <span class="st">&quot;boing&quot;</span>)
x[<span class="kw">c</span>(<span class="st">&quot;boing&quot;</span>, <span class="st">&quot;second&quot;</span>)] <span class="co"># note names are retained in result </span>
<span class="co">#&gt;  boing second </span>
<span class="co">#&gt;      8      4</span>
x[<span class="kw">c</span>(<span class="st">&quot;third&quot;</span>, <span class="st">&quot;boing&quot;</span>, <span class="st">&quot;oops&quot;</span>, <span class="st">&quot;first&quot;</span>, <span class="st">&quot;first&quot;</span>)] <span class="co"># note NA in result</span>
<span class="co">#&gt; third boing  &lt;NA&gt; first first </span>
<span class="co">#&gt;     7     8    NA     5     5</span></code></pre>
<h3>Assignment Form names Indexing</h3>
<ul>
<li>When you use the assignment form of the indexing operator, and you include a name that doesn’t exist, it expands the vector beyond its current length</li>
</ul>
<pre class="sourceCode r"><code class="sourceCode r">x &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">5</span>,<span class="dv">4</span>,<span class="dv">7</span>,<span class="dv">8</span>)

<span class="kw">names</span>(x) &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;first&quot;</span>, <span class="st">&quot;second&quot;</span>, <span class="st">&quot;third&quot;</span>, <span class="st">&quot;boing&quot;</span>)
x[<span class="kw">c</span>(<span class="st">&quot;first&quot;</span>, <span class="st">&quot;third&quot;</span>, <span class="st">&quot;oofdah&quot;</span>, <span class="st">&quot;squawk&quot;</span>)] &lt;-<span class="st"> </span><span class="kw">c</span>(-<span class="dv">1</span>,-<span class="dv">2</span>,-<span class="dv">3</span>,-<span class="dv">4</span>)</code></pre>
<h3>Why Names?</h3>
<ul>
<li>Most books on R say that the <code>names</code> attribute is useful because it is easier to remember names than indices. To some extent this is true:</li>
</ul>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">load</span>(<span class="st">&quot;~/Downloads/sept_watsonville_temps.rda&quot;</span>)

<span class="kw">names</span>(wats_max) &lt;-<span class="st"> </span><span class="kw">paste</span>(<span class="st">&quot;Sept&quot;</span>, <span class="dv">2</span>:<span class="dv">29</span>, <span class="dt">sep=</span><span class="st">&quot;&quot;</span>)
<span class="kw">names</span>(wats_min) &lt;-<span class="st"> </span><span class="kw">names</span>(wats_max)</code></pre>
<ul>
<li>But I contend that they can also be useful because they give a simple way to implement an <em>associative array</em> (or <em>hash</em>) in R.</li>
</ul>
<h2 id="if-time">If We still have time</h2>
<ul>
<li><em>Matrices</em> and the <code>dim</code> and <code>dimnames</code> attributes.</li>
<li>Managing your workspace. <code>ls()</code>, <code>rm()</code>, <code>history()</code>, <code>save()</code>, <code>save.image()</code>, <code>load()</code></li>
</ul>

          <hr>
           <div id="disqus_thread"></div>
    <script type="text/javascript">
        /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
        var disqus_shortname = 'rep-res-course'; // required: replace example with your forum shortname

        /* * * DON'T EDIT BELOW THIS LINE * * */
        (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
    
        </div>
      </div>

            <div class="footer">
        <hr>
        <p>
          <small>
            Authored by Eric C. Anderson working as a Federal employee.  Content on this website is a government work in the public domain in the U.S. and under the CCC 1.0 internationally. Templates and plugins to build the site are modified from Hadley Wickham's <a href="https://github.com/hadley/adv-r/">Advanced R</a> website. Powered by <a href="http://jekyllrb.com/">jekyll</a>,
          <a href="http://yihui.name/knitr/">knitr</a>, and
          <a href="http://johnmacfarlane.net/pandoc/">pandoc</a>. Source
          available on <a href="https://github.com/eriqande/rep-res-course/">github</a>.
          </small>
        </p>
      </div>


    </div> <!-- /container -->

  <script src="//code.jquery.com/jquery.js"></script>
  <script src="http://eriqande.github.io/rep-res-web/www/bootstrap.min.js"></script>
  <script src="http://eriqande.github.io/rep-res-web/www/toc.js"></script>
  <script type="text/javascript"
    src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
  </script>
  </body>
</html>

